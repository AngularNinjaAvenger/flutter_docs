<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no"/>
  <meta name="description" content="API docs for the inDirection method from the DirectionalFocusTraversalPolicyMixin class, for the Dart programming language."/>
  <title>inDirection method - DirectionalFocusTraversalPolicyMixin class - widgets library - Dart API</title>
  <!-- required because all the links are pseudo-absolute -->
  <base href="../.."/>

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400i,400,300|Source+Sans+Pro:400,300,700" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
  <link rel="stylesheet" href="static-assets/github.css"/>
  <link rel="stylesheet" href="static-assets/styles.css"/>
  <link rel="icon" href="static-assets/favicon.png"/>
  <!-- style overrides for dartdoc -->
<style>
@import 'https://fonts.googleapis.com/css?family=Roboto:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Material+Icons';
</style>

<link href="../assets/overrides.css" rel="stylesheet" type="text/css"/>

<!-- The following rules are from http://google.github.io/material-design-icons/ -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<style>
  /* Rules for sizing the icon. */
  .material-icons.md-18 { font-size: 18px; }
  .material-icons.md-24 { font-size: 24px; }
  .material-icons.md-36 { font-size: 36px; }
  .material-icons.md-48 { font-size: 48px; }

  /* Rules for using icons as black on a light background. */
  .material-icons.md-dark { color: rgba(0, 0, 0, 0.54); }
  .material-icons.md-dark.md-inactive { color: rgba(0, 0, 0, 0.26); }

  /* Rules for using icons as white on a dark background. */
  .material-icons.md-light { color: rgba(255, 255, 255, 1); }
  .material-icons.md-light.md-inactive { color: rgba(255, 255, 255, 0.3); }
</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67589403-1', 'auto');
  ga('send', 'pageview');
</script>

<script async="" defer="" src="../assets/api_survey.js"></script>

<!-- Styles and scripting for handling custom code snippets -->
<link href="../assets/snippets.css" rel="stylesheet" type="text/css"/>
<script src="../assets/snippets.js"></script>

<link rel="search" type="application/opensearchdescription+xml" title="Flutter API" href="opensearch.xml"/>

</head>

<body>

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="index.html">Flutter</a></li>
    <li><a href="widgets/widgets-library.html">widgets</a></li>
    <li><a href="widgets/DirectionalFocusTraversalPolicyMixin-mixin.html">DirectionalFocusTraversalPolicyMixin</a></li>
    <li class="self-crumb">inDirection method</li>
  </ol>
  <div class="self-name">inDirection</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled="" class="form-control typeahead" placeholder="Loading search..."/>
  </form>
</header>

<main>

  <div id="dartdoc-sidebar-left" class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
      <form class="search-sidebar" role="search">
        <input type="text" id="search-sidebar" autocomplete="off" disabled="" class="form-control typeahead" placeholder="Loading search..."/>
      </form>
    </header>
    
    <ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
      <li><a href="index.html">Flutter</a></li>
      <li><a href="widgets/widgets-library.html">widgets</a></li>
      <li><a href="widgets/DirectionalFocusTraversalPolicyMixin-mixin.html">DirectionalFocusTraversalPolicyMixin</a></li>
      <li class="self-crumb">inDirection method</li>
    </ol>
    
    <h5>DirectionalFocusTraversalPolicyMixin mixin</h5>
    <ol>
      <li class="section-title"><a href="widgets/DirectionalFocusTraversalPolicyMixin-mixin.html#constructors">Constructors</a></li>
      <li><a href="widgets/DirectionalFocusTraversalPolicyMixin/DirectionalFocusTraversalPolicyMixin.html">DirectionalFocusTraversalPolicyMixin</a></li>
    
      <li class="section-title inherited">
        <a href="widgets/DirectionalFocusTraversalPolicyMixin-mixin.html#instance-properties">Properties</a>
      </li>
      <li class="inherited"><a href="dart-core/Object/hashCode.html">hashCode</a></li>
      <li class="inherited"><a href="dart-core/Object/runtimeType.html">runtimeType</a></li>
    
      <li class="section-title"><a href="widgets/DirectionalFocusTraversalPolicyMixin-mixin.html#instance-methods">Methods</a></li>
      <li><a href="widgets/DirectionalFocusTraversalPolicyMixin/changedScope.html">changedScope</a></li>
      <li><a href="widgets/DirectionalFocusTraversalPolicyMixin/findFirstFocusInDirection.html">findFirstFocusInDirection</a></li>
      <li><a href="widgets/DirectionalFocusTraversalPolicyMixin/inDirection.html">inDirection</a></li>
      <li><a href="widgets/DirectionalFocusTraversalPolicyMixin/invalidateScopeData.html">invalidateScopeData</a></li>
      <li class="inherited"><a href="widgets/FocusTraversalPolicy/findFirstFocus.html">findFirstFocus</a></li>
      <li class="inherited"><a href="widgets/FocusTraversalPolicy/next.html">next</a></li>
      <li class="inherited"><a href="dart-core/Object/noSuchMethod.html">noSuchMethod</a></li>
      <li class="inherited"><a href="widgets/FocusTraversalPolicy/previous.html">previous</a></li>
      <li class="inherited"><a href="dart-core/Object/toString.html">toString</a></li>
    
      <li class="section-title inherited"><a href="widgets/DirectionalFocusTraversalPolicyMixin-mixin.html#operators">Operators</a></li>
      <li class="inherited"><a href="dart-core/Object/operator_equals.html">operator ==</a></li>
    
    
    
    </ol>
  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-main-content" class="col-xs-12 col-sm-9 col-md-8 main-content">
      <div>  <div id="external-links" class="btn-group"><a title="View source code" class="source-link" href="https://github.com/flutter/flutter/blob/master/packages/flutter/lib/src/widgets/focus_traversal.dart#L392"><i class="material-icons">description</i></a></div>
<h1><a class="dashingAutolink" name="autolink-36165"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/inDirection"></a><span class="kind-method">inDirection</span> method</h1></div>

    <section class="multi-line-signature">
      <div>
        <ol class="annotation-list">
          <li>@mustCallSuper</li>
          <li>@override</li>
        </ol>
      </div>
      <span class="returntype"><a href="dart-core/bool-class.html">bool</a></span>
            <span class="name ">inDirection</span>
(<wbr/><span class="parameter" id="inDirection-param-currentNode"><span class="type-annotation"><a href="widgets/FocusNode-class.html">FocusNode</a></span> <span class="parameter-name">currentNode</span>, </span> <span class="parameter" id="inDirection-param-direction"><span class="type-annotation"><a href="widgets/TraversalDirection-class.html">TraversalDirection</a></span> <span class="parameter-name">direction</span></span>)
      <div class="features">@mustCallSuper, override</div>
    </section>
    <section class="desc markdown">
      <p>Focuses the next widget in the given <code>direction</code> in the <a href="widgets/FocusScope-class.html">FocusScope</a> that
contains the <code>currentNode</code>.</p>
<p>This determines what the next node to receive focus in the given
<code>direction</code> will be by inspecting the node tree, and then calling
<a href="widgets/FocusNode/requestFocus.html">FocusNode.requestFocus</a> on it.</p>
<p>Returns true if it successfully found a node and requested focus.</p>
<p>Maintains a stack of previous locations that have been visited on the
<code>policyData</code> for the affected <a href="widgets/FocusScopeNode-class.html">FocusScopeNode</a>. If the previous direction
was the opposite of the current direction, then the this policy will
request focus on the previously focused node. Change to another direction
other than the current one or its opposite will clear the stack.</p>
<p>If this function returns true when called by a subclass, then the subclass
should return true and not request focus from any node.</p>
    </section>
    
    <section class="summary source-code" id="source">
      <h2><span>Implementation</span></h2>
      <pre class="language-dart"><code class="language-dart">@mustCallSuper
@override
bool inDirection(FocusNode currentNode, TraversalDirection direction) {
  final FocusScopeNode nearestScope = currentNode.nearestScope;
  final FocusNode focusedChild = nearestScope.focusedChild;
  if (focusedChild == null) {
    final FocusNode firstFocus = findFirstFocusInDirection(currentNode, direction);
    (firstFocus ?? currentNode).requestFocus();
    return true;
  }
  if (_popPolicyDataIfNeeded(direction, nearestScope, focusedChild)) {
    return true;
  }
  FocusNode found;
  switch (direction) {
    case TraversalDirection.down:
    case TraversalDirection.up:
      final Iterable&lt;FocusNode&gt; eligibleNodes = _sortAndFilterVertically(
        direction,
        focusedChild.rect,
        nearestScope.traversalDescendants,
      );
      if (eligibleNodes.isEmpty) {
        break;
      }
      List&lt;FocusNode&gt; sorted = eligibleNodes.toList();
      if (direction == TraversalDirection.up) {
        sorted = sorted.reversed.toList();
      }
      // Find any nodes that intersect the band of the focused child.
      final Rect band = Rect.fromLTRB(focusedChild.rect.left, -double.infinity, focusedChild.rect.right, double.infinity);
      final Iterable&lt;FocusNode&gt; inBand = sorted.where((FocusNode node) =&gt; !node.rect.intersect(band).isEmpty);
      if (inBand.isNotEmpty) {
        // The inBand list is already sorted by horizontal distance, so pick the closest one.
        found = inBand.first;
        break;
      }
      // Only out-of-band targets remain, so pick the one that is closest the to the center line horizontally.
      sorted.sort((FocusNode a, FocusNode b) {
        return (a.rect.center.dx - focusedChild.rect.center.dx).abs().compareTo((b.rect.center.dx - focusedChild.rect.center.dx).abs());
      });
      found = sorted.first;
      break;
    case TraversalDirection.right:
    case TraversalDirection.left:
      final Iterable&lt;FocusNode&gt; eligibleNodes = _sortAndFilterHorizontally(direction, focusedChild.rect, nearestScope);
      if (eligibleNodes.isEmpty) {
        break;
      }
      List&lt;FocusNode&gt; sorted = eligibleNodes.toList();
      if (direction == TraversalDirection.left) {
        sorted = sorted.reversed.toList();
      }
      // Find any nodes that intersect the band of the focused child.
      final Rect band = Rect.fromLTRB(-double.infinity, focusedChild.rect.top, double.infinity, focusedChild.rect.bottom);
      final Iterable&lt;FocusNode&gt; inBand = sorted.where((FocusNode node) =&gt; !node.rect.intersect(band).isEmpty);
      if (inBand.isNotEmpty) {
        // The inBand list is already sorted by vertical distance, so pick the closest one.
        found = inBand.first;
        break;
      }
      // Only out-of-band targets remain, so pick the one that is closest the to the center line vertically.
      sorted.sort((FocusNode a, FocusNode b) {
        return (a.rect.center.dy - focusedChild.rect.center.dy).abs().compareTo((b.rect.center.dy - focusedChild.rect.center.dy).abs());
      });
      found = sorted.first;
      break;
  }
  if (found != null) {
    _pushPolicyData(direction, nearestScope, focusedChild);
    found.requestFocus();
    return true;
  }
  return false;
}</code></pre>
    </section>

  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-right" class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    Flutter 0.0.0
  </span>

  <script src="footer.js"></script>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="static-assets/typeahead.bundle.min.js"></script>
<script src="static-assets/highlight.pack.js"></script>
<script src="static-assets/URI.js"></script>
<script src="static-assets/script.js"></script>





</body></html>